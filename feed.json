{
    "version": "https://jsonfeed.org/version/1",
    "title": "夸黑",
    "subtitle": "",
    "icon": "https://d1074181045.github.io/images/favicon.ico",
    "description": null,
    "home_page_url": "https://d1074181045.github.io",
    "items": [
        {
            "id": "https://d1074181045.github.io/programming/c/%E6%8C%87%E6%A8%99(Pointers)/",
            "url": "https://d1074181045.github.io/programming/c/%E6%8C%87%E6%A8%99(Pointers)/",
            "title": "指標 (Pointers)",
            "date_published": "2023-12-01T16:00:00.000Z",
            "content_html": "<h1 id=\"何謂指標\"><a class=\"anchor\" href=\"#何謂指標\">#</a> 何謂指標</h1>\n<ul>\n<li><code>指標(Pointer)</code> : 用來表示變數所在的<strong>記憶體位址</strong>。</li>\n<li><code>指標變數(Pointer Variable)</code> : 用來存放指標的變數。</li>\n</ul>\n<h2 id=\"變數型態\"><a class=\"anchor\" href=\"#變數型態\">#</a> 變數型態</h2>\n<p>我們宣告的 <code>int a</code>  是告訴編譯器，我的<strong>變數 a</strong>，是用來存放<strong> int 型態</strong>的，也就是記憶體會有區塊存放著<strong>變數 a</strong> 的數值。<br />\n而當我們使用取址符號 <code>&amp;a</code>  時，這個過程是用來取得<strong>變數 a</strong> 所在的<strong>記憶體位址</strong>。</p>\n<p>在 C 語言中，任何的數值本身都是有型態的，<strong>例如</strong>：</p>\n<ul>\n<li><strong>10</strong> 就是一個整數型態。</li>\n<li><strong>&amp;a</strong> 取得的就是整數型態的指標。</li>\n</ul>\n<h2 id=\"程式碼範例\"><a class=\"anchor\" href=\"#程式碼範例\">#</a> 程式碼範例</h2>\n<h3 id=\"常見使用\"><a class=\"anchor\" href=\"#常見使用\">#</a> 常見使用</h3>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//  a 的型態是 int</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token operator\">*</span>b<span class=\"token punctuation\">;</span> <span class=\"token comment\">//  b 的型態是 (int *)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>b <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">;</span> <span class=\"token comment\">// &amp;a 的型態是 (int *)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// 由下面程式碼可知，變數 b 存放的是變數 a 所在的記憶體位址</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// 我們可以理解為，變數 b 指向變數 a 的位址</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"address : %p \\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"address : %p \\n\"</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"value : %d \\n\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"value : %d \\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 當我們使用 (*b) 時，表示取得變數 b 指向位址的數值</span></pre></td></tr></table></figure><h3 id=\"特殊應用\"><a class=\"anchor\" href=\"#特殊應用\">#</a> 特殊應用</h3>\n<p>由於 <code>unsigned long</code>  型態可以儲存上限為<strong> 4bytes 或 8bytes</strong>，也就是<strong> 0 ~ 4294967295</strong> 或<strong> 0 ~ 18446744073709551615</strong></p>\n<p>那麼我們也可以使用 <code>unsigned long</code>  型態的變數來存放記憶體位址。</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">long</span> ul <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">long</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 將 指標型態 轉為 unsigned long 型態</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token operator\">*</span>b <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> ul<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 將 unsigned long 型態 轉回 指標型態</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"address : %p \\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"address : %p \\n\"</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"value : %d \\n\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"value : %d \\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>",
            "tags": [
                "程式設計",
                "C",
                "c"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/about-website/",
            "url": "https://d1074181045.github.io/programming/about-website/",
            "title": "關於網站",
            "date_published": "2023-11-29T16:00:00.000Z",
            "content_html": "<ul>\n<li><code>框架</code>  <strong>Hexo</strong></li>\n<li><code>主題</code>  <strong>Shoka</strong></li>\n</ul>\n<span id=\"more\"></span>\n<hr />\n<h1 id=\"何謂-hexo\"><a class=\"anchor\" href=\"#何謂-hexo\">#</a> 何謂 Hexo</h1>\n<p>Hexo 是一個基於 Node.js，用於建立靜態網站的開源框架。<br />\n它允許使用者使用 Markdown 語法編寫內容，然後將其轉換成靜態網頁。</p>\n<h2 id=\"hexo-的特點\"><a class=\"anchor\" href=\"#hexo-的特點\">#</a> Hexo 的特點</h2>\n<ol>\n<li>\n<p><strong>Markdown 支持</strong>： 使用者可以使用 Markdown 語法編寫內容，使得撰寫文章變得簡單且易於理解。</p>\n</li>\n<li>\n<p><strong>快速</strong>： Hexo 生成的是靜態網頁，這使得網站載入速度非常快，並且更容易被搜尋引擎索引。</p>\n</li>\n<li>\n<p><strong>擴展性</strong>： Hexo 提供豐富的插件機制，使得用戶能夠根據自己的需求擴展功能。</p>\n</li>\n<li>\n<p><strong>命令行操作</strong>： 使用者可以透過命令行輕鬆地創建、部署和管理網站。</p>\n</li>\n<li>\n<p><strong>佈景主題</strong>： Hexo 支援不同的佈景主題，使用者可以選擇適合自己風格和需求的佈景主題。</p>\n</li>\n</ol>\n<h1 id=\"如何安裝\"><a class=\"anchor\" href=\"#如何安裝\">#</a> 如何安裝</h1>\n<ol>\n<li>Hexo 本體的安裝請參考<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL3poLXR3L2luZGV4Lmh0bWw=\"> hexo 官網</span></li>\n<li>Hexo 主題的安裝請參考<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy8=\"> hexo shoka</span></li>\n</ol>\n",
            "tags": [
                "Hexo",
                "hexo"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/front/Image-lazyload/",
            "url": "https://d1074181045.github.io/programming/front/Image-lazyload/",
            "title": "Image - lazyload",
            "date_published": "2023-11-29T16:00:00.000Z",
            "content_html": "<h1 id=\"intersection-observer-api-實作\"><a class=\"anchor\" href=\"#intersection-observer-api-實作\">#</a> Intersection Observer API 實作</h1>\n<h2 id=\"html\"><a class=\"anchor\" href=\"#html\">#</a> Html</h2>\n<ol>\n<li>將圖片原本的 <strong>src</strong> 改為 <strong>data-src</strong></li>\n</ol>\n<ul>\n<li>before  <code>&lt;img src=&quot;test.jpg&quot; /&gt;</code></li>\n<li>after  <code>&lt;img data-src=&quot;test.jpg&quot; /&gt;</code></li>\n</ul>\n<ol start=\"2\">\n<li>添加 <strong>lazyload lazy-hidden</strong> 到圖片原本的 <strong>class</strong></li>\n</ol>\n<ul>\n<li>before  <code>&lt;img class=&quot;&quot; /&gt;</code></li>\n<li>after  <code>&lt;img class=&quot;lazyload lazy-hidden&quot; /&gt;</code></li>\n</ul>\n<ol start=\"3\">\n<li>最後</li>\n</ol>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>lazyload lazy-hidden<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><h2 id=\"js\"><a class=\"anchor\" href=\"#js\">#</a> JS</h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">onElementObserved</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">entries<span class=\"token punctuation\">,</span> observer</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    entries<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entry</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>entry<span class=\"token punctuation\">.</span>isIntersecting<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">const</span> img <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span>dataset<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            img<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> img<span class=\"token punctuation\">.</span>dataset<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            img<span class=\"token punctuation\">.</span><span class=\"token function\">removeAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            img<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                img<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lazy-hidden'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                img<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lazy-show'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        observer<span class=\"token punctuation\">.</span><span class=\"token function\">unobserve</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">var</span> observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntersectionObserver</span><span class=\"token punctuation\">(</span>onElementObserved<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">var</span> lazyImages <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img.lazyload'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>lazyImages<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">image</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>observer<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"css\"><a class=\"anchor\" href=\"#css\">#</a> CSS</h2>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\">img.lazyload</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> opacity 550ms ease-in<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token selector\">img.lazyload.lazy-hidden</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token selector\">img.lazyload.lazy-show</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"參考來源\"><a class=\"anchor\" href=\"#參考來源\">#</a> 參考來源</h1>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9taW5nanVuLmx1L2Jsb2cvbGF6eS1sb2FkaW5nLWltYWdlcy13aXRoLWludGVyc2VjdGlvbi1vYnNlcnZlcg==\">https://mingjun.lu/blog/lazy-loading-images-with-intersection-observer</span></li>\n</ul>\n",
            "tags": [
                "程式設計",
                "Front",
                "front"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/c/LinuxKernel-Timer/",
            "url": "https://d1074181045.github.io/programming/c/LinuxKernel-Timer/",
            "title": "Linux Kernel - Timer",
            "date_published": "2023-09-26T16:00:00.000Z",
            "content_html": "<h2 id=\"版本變動\"><a class=\"anchor\" href=\"#版本變動\">#</a> 版本變動</h2>\n<h3 id=\"initialize\"><a class=\"anchor\" href=\"#initialize\">#</a> initialize</h3>\n<p>before  <code>init_timer(struct timer_list *)</code></p>\n<p>after  <code>timer_setup(struct timer_list *, void (*callback)(struct timer_list *), unsigned int)</code></p>\n<h3 id=\"callback\"><a class=\"anchor\" href=\"#callback\">#</a> callback</h3>\n<p>before  <code>callback(unsigned long)</code></p>\n<p>after  <code>callback(struct timer_list *)</code></p>\n<h3 id=\"timer_list\"><a class=\"anchor\" href=\"#timer_list\">#</a> timer_list</h3>\n<p>before</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">timer_list</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>function<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">long</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">long</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>after</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">timer_list</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>function<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">timer_list</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"原因\"><a class=\"anchor\" href=\"#原因\">#</a> 原因</h3>\n<ul>\n<li>timer_list 結構膨脹，通常是冗餘的 .data 欄位。</li>\n<li>沒有執行類型檢查，迫使 callback 將 unsigned long 轉換為傳遞的對象，而不像大多數其他 callback 中使用 container_of () 。</li>\n<li>相鄰的緩衝區溢位可能會覆蓋 .function 和 .data 字段，為攻擊者提供一種從緩衝區溢位升級到簡單的 ROP（Return-Oriented Programming）類似機制的方式，允許呼叫帶有受控第一 個參數的任意函數。</li>\n</ul>\n<h2 id=\"example\"><a class=\"anchor\" href=\"#example\">#</a> Example</h2>\n<h3 id=\"makefile\"><a class=\"anchor\" href=\"#makefile\">#</a> Makefile</h3>\n<figure class=\"highlight makefile\"><figcaption data-lang=\"makefile\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mname <span class=\"token operator\">:=</span> brook_timer</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>mname<span class=\"token punctuation\">)</span>-objs <span class=\"token operator\">:=</span> main.o</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>obj-m <span class=\"token operator\">:=</span> <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>mname<span class=\"token punctuation\">)</span>.o</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>KERNELDIR <span class=\"token operator\">:=</span> /lib/modules/`uname -r`/build</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token target symbol\">all</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>MAKE<span class=\"token punctuation\">)</span> -C <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>KERNELDIR<span class=\"token punctuation\">)</span> M<span class=\"token operator\">=</span>`pwd` modules</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token target symbol\">clean</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>MAKE<span class=\"token punctuation\">)</span> -C <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>KERNELDIR<span class=\"token punctuation\">)</span> M<span class=\"token operator\">=</span>`pwd` clean</pre></td></tr></table></figure><h3 id=\"mainc\"><a class=\"anchor\" href=\"#mainc\">#</a> main.c</h3>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;linux/init.h></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;linux/module.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;linux/timer.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">MODULE_LICENSE</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GPL\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">struct</span> <span class=\"token class-name\">data</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">timer_list</span> timer<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">int</span> count<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">data</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">timer_callback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">timer_list</span> <span class=\"token operator\">*</span>t<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#123;</span> </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">data</span> <span class=\"token operator\">*</span>dp <span class=\"token operator\">=</span> <span class=\"token function\">from_timer</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">,</span> timer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token function\">printk</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%s(): %d\\n\"</span><span class=\"token punctuation\">,</span> __FUNCTION__<span class=\"token punctuation\">,</span> dp<span class=\"token operator\">-></span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dp<span class=\"token operator\">-></span>count<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token function\">mod_timer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>dp<span class=\"token operator\">-></span>timer<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>timer<span class=\"token punctuation\">.</span>expires <span class=\"token operator\">+</span> <span class=\"token number\">5</span> <span class=\"token operator\">*</span> HZ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t<span class=\"token function\">del_timer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>dp<span class=\"token operator\">-></span>timer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> __init <span class=\"token function\">init_modules</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    data<span class=\"token punctuation\">.</span>count <span class=\"token operator\">=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token function\">timer_setup</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">.</span>timer<span class=\"token punctuation\">,</span> timer_callback<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    data<span class=\"token punctuation\">.</span>timer<span class=\"token punctuation\">.</span>expires <span class=\"token operator\">=</span> jiffies <span class=\"token operator\">+</span> <span class=\"token number\">5</span> <span class=\"token operator\">*</span> HZ<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token function\">add_timer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">.</span>timer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> __exit <span class=\"token function\">exit_modules</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token function\">del_timer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">.</span>timer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token function\">module_init</span><span class=\"token punctuation\">(</span>init_modules<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token function\">module_exit</span><span class=\"token punctuation\">(</span>exit_modules<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"參考來源\"><a class=\"anchor\" href=\"#參考來源\">#</a> 參考來源</h2>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL25hbm8tY2hpY2tlbi5ibG9nc3BvdC5jb20vMjAwOS8xMi9saW51eC1tb2R1bGVzNzEtdGltZXIuaHRtbA==\">http://nano-chicken.blogspot.com/2009/12/linux-modules71-timer.html</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQua2VybmVsLm9yZy9wdWIvc2NtL2xpbnV4L2tlcm5lbC9naXQvdG9ydmFsZHMvbGludXguZ2l0L2NvbW1pdC8/aWQ9Njg2ZmVmOTI4YmJhNmJlMTNjYWJlNjM5ZjE1NGFmN2Q3MmI2MzEyMA==\">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=686fef928bba6be13cabe639f154af7d72b63120</span></li>\n</ul>\n",
            "tags": [
                "程式設計",
                "C",
                "Kernel",
                "kernel"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/c/LinuxKernel-%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83/",
            "url": "https://d1074181045.github.io/programming/c/LinuxKernel-%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83/",
            "title": "Linux Kernel - 開發環境",
            "date_published": "2023-09-25T16:00:00.000Z",
            "content_html": "<h2 id=\"install\"><a class=\"anchor\" href=\"#install\">#</a> Install</h2>\n<h3 id=\"開發套件\"><a class=\"anchor\" href=\"#開發套件\">#</a> 開發套件</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> build-essential kernel-package libncurses5-dev libelf-dev gcc g++</pre></td></tr></table></figure><h3 id=\"linux-headers\"><a class=\"anchor\" href=\"#linux-headers\">#</a> linux-headers</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> linux-headers-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span><span class=\"token variable\">)</span></span>-generic</pre></td></tr></table></figure><h2 id=\"make-kernel-module\"><a class=\"anchor\" href=\"#make-kernel-module\">#</a> Make Kernel Module</h2>\n<p>先建立一個資料夾，進入資料夾後創建 Makefile 和 main.c</p>\n<h3 id=\"makefile\"><a class=\"anchor\" href=\"#makefile\">#</a> Makefile</h3>\n<figure class=\"highlight makefile\"><figcaption data-lang=\"makefile\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mname <span class=\"token operator\">:=</span> brook_modules</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>mname<span class=\"token punctuation\">)</span>-objs <span class=\"token operator\">:=</span> main.o</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>obj-m <span class=\"token operator\">:=</span> <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>mname<span class=\"token punctuation\">)</span>.o</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>KERNELDIR <span class=\"token operator\">:=</span> /lib/modules/`uname -r`/build</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token target symbol\">all</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>MAKE<span class=\"token punctuation\">)</span> -C <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>KERNELDIR<span class=\"token punctuation\">)</span> M<span class=\"token operator\">=</span>`pwd` modules</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token target symbol\">clean</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>MAKE<span class=\"token punctuation\">)</span> -C <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>KERNELDIR<span class=\"token punctuation\">)</span> M<span class=\"token operator\">=</span>`pwd` clean</pre></td></tr></table></figure><h3 id=\"mainc\"><a class=\"anchor\" href=\"#mainc\">#</a> main.c</h3>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;linux/init.h></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;linux/module.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">MODULE_LICENSE</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GPL\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> __init <span class=\"token function\">init_modules</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token function\">printk</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello world\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> __exit <span class=\"token function\">exit_modules</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token function\">printk</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"goodbye\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">module_init</span><span class=\"token punctuation\">(</span>init_modules<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token function\">module_exit</span><span class=\"token punctuation\">(</span>exit_modules<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"compiler\"><a class=\"anchor\" href=\"#compiler\">#</a> Compiler</h3>\n<p>撰寫完畢後進進行編譯</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span></pre></td></tr></table></figure><h2 id=\"執行\"><a class=\"anchor\" href=\"#執行\">#</a> 執行</h2>\n<h3 id=\"掛載\"><a class=\"anchor\" href=\"#掛載\">#</a> 掛載</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> insmod brook_modules.ko // 系統訊息會列印 hello world</pre></td></tr></table></figure><h3 id=\"卸載\"><a class=\"anchor\" href=\"#卸載\">#</a> 卸載</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> rmmod brook_modules.ko // 系統訊息會列印 goodbye</pre></td></tr></table></figure><h3 id=\"查看系統訊息\"><a class=\"anchor\" href=\"#查看系統訊息\">#</a> 查看系統訊息</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>demsg</pre></td></tr></table></figure><h2 id=\"參考來源\"><a class=\"anchor\" href=\"#參考來源\">#</a> 參考來源</h2>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL2xpbWl0eDUuYmxvZ3Nwb3QuY29tLzIwMTgvMTEvdWJ1bnR1LXVidW50dS0xODA0LWtlcm5lbC1tb2R1bGUuaHRtbA==\">http://limitx5.blogspot.com/2018/11/ubuntu-ubuntu-1804-kernel-module.html</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL25hbm8tY2hpY2tlbi5ibG9nc3BvdC5jb20vMjAwOS8xMS9saW51eC1tb2R1bGVzaS5odG1s\">http://nano-chicken.blogspot.com/2009/11/linux-modulesi.html</span></li>\n</ul>\n",
            "tags": [
                "程式設計",
                "C",
                "Kernel",
                "kernel"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/operating-system/VirtualBox-Ubuntu-18.04/",
            "url": "https://d1074181045.github.io/programming/operating-system/VirtualBox-Ubuntu-18.04/",
            "title": "用 VirtualBox 安裝 Ubuntu 18.04",
            "date_published": "2023-09-25T16:00:00.000Z",
            "content_html": "<h2 id=\"virtualbox-教學\"><a class=\"anchor\" href=\"#virtualbox-教學\">#</a> VirtualBox 教學</h2>\n<h3 id=\"作業系統下載\"><a class=\"anchor\" href=\"#作業系統下載\">#</a> 作業系統下載</h3>\n<p>Ubuntu 18.04 <span class=\"exturl\" data-url=\"aHR0cDovL2Z0cC51YnVudHUtdHcub3JnL21pcnJvci91YnVudHUtcmVsZWFzZXMv\">http://ftp.ubuntu-tw.org/mirror/ubuntu-releases/</span></p>\n<h3 id=\"虛擬機器建立\"><a class=\"anchor\" href=\"#虛擬機器建立\">#</a> 虛擬機器建立</h3>\n<p><strong>虛擬機器</strong></p>\n<ul>\n<li>名稱：隨意</li>\n<li>類型：Linux</li>\n<li>版本：Ubuntu (64-bit)</li>\n</ul>\n<p><strong>記憶體大小</strong></p>\n<ul>\n<li>1024MB 以上</li>\n</ul>\n<p><strong>建立虛擬硬碟</strong></p>\n<ul>\n<li>類型：VDI (VirtualBox 磁碟映像)</li>\n<li>存放方式：動態配置</li>\n<li>大小：500MB</li>\n</ul>\n<h3 id=\"虛擬機器設置\"><a class=\"anchor\" href=\"#虛擬機器設置\">#</a> 虛擬機器設置</h3>\n<p><strong>一般 -&gt; 進階</strong></p>\n<ul>\n<li>共用剪貼簿：雙向</li>\n<li>拖放：雙向</li>\n</ul>\n<p><strong>存放裝置 -&gt; IDE (空) -&gt; 光碟機 (IDE Secondary Device 0) -&gt; 選擇 / 建立虛擬光碟 -&gt; 加入 -&gt; 選取 ubuntu.iso</strong></p>\n<h2 id=\"ubuntu\"><a class=\"anchor\" href=\"#ubuntu\">#</a> Ubuntu</h2>\n<h3 id=\"安裝\"><a class=\"anchor\" href=\"#安裝\">#</a> 安裝</h3>\n<p><strong>Welcome</strong></p>\n<ul>\n<li>English -&gt; Install Ubuntu</li>\n</ul>\n<p><strong>Keyboard layout</strong></p>\n<ul>\n<li>Taiwanese -&gt; Taiwanese -&gt; Continue</li>\n</ul>\n<p><strong>Updates and other software</strong></p>\n<ul>\n<li>Minimal installation</li>\n<li>Download updates while installing Ubuntu -&gt; Continue</li>\n</ul>\n<p><strong>Installation type</strong></p>\n<ul>\n<li>Erase disk and install Ubuntu -&gt; Install Now</li>\n<li>Write the changes to disks? -&gt; Continue</li>\n</ul>\n<p><strong>Where are you?</strong></p>\n<ul>\n<li>Taiwan／Taipei -&gt; Continue</li>\n</ul>\n<p><strong>Who are you?</strong></p>\n<ul>\n<li>Your name：ubuntu</li>\n<li>Your computer's name：ubuntu-VirtualBox</li>\n<li>Pick a username：ubuntu</li>\n<li>Choose a password：ubuntu</li>\n<li>Confirm your password：ubuntu</li>\n</ul>\n<p><strong>Installation Complete</strong></p>\n<ul>\n<li>Restart Now</li>\n</ul>\n<h3 id=\"安裝-virtualbox-guest-additions\"><a class=\"anchor\" href=\"#安裝-virtualbox-guest-additions\">#</a> 安裝 VirtualBox Guest Additions</h3>\n<p><strong>登入成功後，點選上方工具列</strong></p>\n<ul>\n<li>裝置 -&gt; 插入 Guest Additions CD 映像... -&gt; Run -&gt; 輸入密碼 -&gt; Authenticate</li>\n</ul>\n<h3 id=\"安裝基本套件\"><a class=\"anchor\" href=\"#安裝基本套件\">#</a> 安裝基本套件</h3>\n<pre><code>sudo apt install -y ssh xrdp wget vim gedit nano deborphan net-tools iputils-ping traceroute curl dnsutils locales sudo man tree\n</code></pre>\n<h3 id=\"sudo-無須輸入密碼\"><a class=\"anchor\" href=\"#sudo-無須輸入密碼\">#</a> sudo 無須輸入密碼</h3>\n<pre><code>sudo vim /etc/sudoers\n\n# Allow members of group sudo to execute any command\n#%sudo  ALL=(ALL:ALL) ALL\n%sudo   ALL=(ALL:ALL) NOPASSWD:ALL\n</code></pre>\n<h2 id=\"參考來源\"><a class=\"anchor\" href=\"#參考來源\">#</a> 參考來源</h2>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zdGVlbWl0LmNvbS92bS9Ab25lbGVvL29yYWNsZS12bS12aXJ0dWFsYm94LXVidW50dS0xOC0wNC1kZXNrdG9w\">https://steemit.com/vm/@oneleo/oracle-vm-virtualbox-ubuntu-18-04-desktop</span></li>\n</ul>\n",
            "tags": [
                "程式設計",
                "作業系統",
                "虛擬機器",
                "教程"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/c/unit-test/GoogleTest/",
            "url": "https://d1074181045.github.io/programming/c/unit-test/GoogleTest/",
            "title": "Google Test",
            "date_published": "2023-09-25T16:00:00.000Z",
            "content_html": "<h2 id=\"install\"><a class=\"anchor\" href=\"#install\">#</a> Install</h2>\n<h3 id=\"windows\"><a class=\"anchor\" href=\"#windows\">#</a> Windows</h3>\n<p>下載並安裝 Visual Studio 2022 <span class=\"exturl\" data-url=\"aHR0cHM6Ly92aXN1YWxzdHVkaW8ubWljcm9zb2Z0LmNvbS96aC1oYW50L2Rvd25sb2Fkcy8=\">https://visualstudio.microsoft.com/zh-hant/downloads/</span></p>\n<p>安裝下圖標線的套件<br />\n<img data-src=\"/images/posts/gtest_setup.png\" alt=\"Google Test Setup\" /></p>\n<h3 id=\"linux\"><a class=\"anchor\" href=\"#linux\">#</a> Linux</h3>\n<p>更新 apt 資料庫</p>\n<pre><code>sudo apt update\n</code></pre>\n<p>安裝以下套件</p>\n<pre><code>sudo apt install gcc g++ lcov\nsudo apt install libgtest-dev\n</code></pre>\n<p>進行以下操作</p>\n<pre><code>cd /usr/src/gtest\n\nsudo cmake CMakeLists.txt\nsudo make\nsudo make install\n</code></pre>\n<h2 id=\"testing\"><a class=\"anchor\" href=\"#testing\">#</a> Testing</h2>\n<h3 id=\"example\"><a class=\"anchor\" href=\"#example\">#</a> Example</h3>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// vs 2019 use #include \"pch.h\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"gtest/gtest.h\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">iCompute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> iA<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> iB<span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span> cCommand<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">int</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>cCommand<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cCommand<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token char\">'A'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\t\tiA <span class=\"token operator\">=</span> iA <span class=\"token operator\">+</span> iB<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cCommand<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token char\">'B'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t\tiB <span class=\"token operator\">=</span> iA <span class=\"token operator\">+</span> iB<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t\t<span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token keyword\">return</span> iA <span class=\"token operator\">+</span> iB<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token function\">TEST</span><span class=\"token punctuation\">(</span>TestCaseName<span class=\"token punctuation\">,</span> TestName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token function\">EXPECT_EQ</span><span class=\"token punctuation\">(</span><span class=\"token function\">iCompute</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ABA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token function\">EXPECT_EQ</span><span class=\"token punctuation\">(</span><span class=\"token function\">iCompute</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"CCC\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> argc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span><span class=\"token operator\">*</span>argv<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\ttesting<span class=\"token operator\">::</span><span class=\"token function\">InitGoogleTest</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>argc<span class=\"token punctuation\">,</span> argv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token keyword\">return</span> <span class=\"token function\">RUN_ALL_TESTS</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"windows-2\"><a class=\"anchor\" href=\"#windows-2\">#</a> Windows</h3>\n<p><img data-src=\"/images/posts/vs2019_compiler.png\" alt=\"VS 2019 Compiler\" /></p>\n<h3 id=\"linux-2\"><a class=\"anchor\" href=\"#linux-2\">#</a> Linux</h3>\n<pre><code>// --coverage - The option is a synonym for -fprofile-arcs -ftest-coverage (when compiling) and -lgcov (when linking)\n\ng++ -c main.cpp -o main.o --coverage\ng++ main.o -o main -lgcov -lgtest -lpthread\n./main &gt; result.txt\n</code></pre>\n<h2 id=\"coverage-testing\"><a class=\"anchor\" href=\"#coverage-testing\">#</a> Coverage Testing</h2>\n<h3 id=\"linux-3\"><a class=\"anchor\" href=\"#linux-3\">#</a> Linux</h3>\n<pre><code>gcov main.gcda\nmv main.cpp.gcov coverage.txt\n</code></pre>\n<p>產生 HTML 圖表</p>\n<pre><code>lcov -c -d . -o test.info --rc lcov_branch_coverage=1\nlcov -o test.info -e test.info &quot;*main*&quot; --rc lcov_branch_coverage=1 // 過濾非原始碼\ngenhtml --branch-coverage -o result test.info\n</code></pre>\n<h2 id=\"參考來源\"><a class=\"anchor\" href=\"#參考來源\">#</a> 參考來源</h2>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDIwMjkwNQ==\">https://ithelp.ithome.com.tw/articles/10202905</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC80MTAwNzc0MTU=\">https://zhuanlan.zhihu.com/p/410077415</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC80MzE5MzgyMTA=\">https://zhuanlan.zhihu.com/p/431938210</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9nY2MuZ251Lm9yZy9vbmxpbmVkb2NzL2djYy9JbnN0cnVtZW50YXRpb24tT3B0aW9ucy5odG1sI0luc3RydW1lbnRhdGlvbi1PcHRpb25z\">https://gcc.gnu.org/onlinedocs/gcc/Instrumentation-Options.html#Instrumentation-Options</span></li>\n</ul>\n",
            "tags": [
                "程式設計",
                "C",
                "單元測試",
                "testing"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/c/unit-test/CUnit/",
            "url": "https://d1074181045.github.io/programming/c/unit-test/CUnit/",
            "title": "CUnit",
            "date_published": "2023-09-24T16:00:00.000Z",
            "content_html": "<h2 id=\"install\"><a class=\"anchor\" href=\"#install\">#</a> Install</h2>\n<h3 id=\"windows\"><a class=\"anchor\" href=\"#windows\">#</a> Windows</h3>\n<p>下載並安裝 MinGW <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zb3VyY2Vmb3JnZS5uZXQvcHJvamVjdHMvbWluZ3cv\">https://sourceforge.net/projects/mingw/</span></p>\n<p>安裝下圖出現的套件</p>\n<p><img data-src=\"/images/posts/mingw_setup.png\" alt=\"MinGW\" /></p>\n<p>添加環境變數如下</p>\n<p><img data-src=\"/images/posts/add_env.png\" alt=\"Add Env\" /></p>\n<p>下載 CUnit-2.1-3 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zb3VyY2Vmb3JnZS5uZXQvcHJvamVjdHMvY3VuaXQv\">https://sourceforge.net/projects/cunit/</span></p>\n<p>複製 CUnit-2.1-3 到 (C:\\MinGW\\msys\\1.0\\home) ，並解壓縮</p>\n<p>啟動 MSYS，預設路徑 (C:\\MinGW\\msys\\1.0\\msys.bat)，並執行以下命令</p>\n<pre><code>cd /home/CUnit-2.1-3\n\n./boostrap\nmake\nmake install\n</code></pre>\n<p>複製 C:\\MinGW\\msys\\1.0\\home\\User\\CUnitHome\\lib 底下的 libcunit.a 到 C:\\MinGW\\lib</p>\n<p>複製 C:\\MinGW\\msys\\1.0\\home\\User\\CUnitHome\\include 底下的 CUnit 到 C:\\MinGW\\include</p>\n<h3 id=\"linux\"><a class=\"anchor\" href=\"#linux\">#</a> Linux</h3>\n<p>更新 apt 資料庫</p>\n<pre><code>sudo apt update\n</code></pre>\n<p>安裝以下套件</p>\n<pre><code>sudo apt install gcc g++ lcov\nsudo apt install libcunit1 libcunit1-dev libcunit1-doc libcunit1-ncurses libcunit1-ncurses-dev\n</code></pre>\n<h2 id=\"testing\"><a class=\"anchor\" href=\"#testing\">#</a> Testing</h2>\n<h3 id=\"example\"><a class=\"anchor\" href=\"#example\">#</a> Example</h3>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdbool.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;CUnit/CUnit.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;CUnit/Basic.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;CUnit/TestRun.h></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;CUnit/Automated.h></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">iCompute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> iA<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> iB<span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span> cCommand<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token keyword\">int</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>cCommand<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cCommand<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token char\">'A'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t\tiA <span class=\"token operator\">=</span> iA <span class=\"token operator\">+</span> iB<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cCommand<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token char\">'B'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t\tiB <span class=\"token operator\">=</span> iA <span class=\"token operator\">+</span> iB<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t<span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t\t<span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token keyword\">return</span> iA <span class=\"token operator\">+</span> iB<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">int</span> ans<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">25</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token function\">CU_ASSERT</span><span class=\"token punctuation\">(</span><span class=\"token function\">iCompute</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"ABA\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> ans<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token function\">CU_ASSERT</span><span class=\"token punctuation\">(</span><span class=\"token function\">iCompute</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"CCC\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> ans<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t<span class=\"token function\">CU_initialize_registry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\tCU_pSuite suite <span class=\"token operator\">=</span> <span class=\"token function\">CU_add_suite</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t<span class=\"token function\">CU_add_test</span><span class=\"token punctuation\">(</span>suite<span class=\"token punctuation\">,</span> <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">,</span> test<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t<span class=\"token function\">CU_basic_set_mode</span><span class=\"token punctuation\">(</span>CU_BRM_VERBOSE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t<span class=\"token function\">CU_basic_run_tests</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t<span class=\"token function\">CU_cleanup_registry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"windows-2\"><a class=\"anchor\" href=\"#windows-2\">#</a> Windows</h3>\n<pre><code>// --coverage - The option is a synonym for -fprofile-arcs -ftest-coverage (when compiling) and -lgcov (when linking)\n\ngcc -c main.c -o main.o --coverage\ngcc main.o -o main -lgcov -lcunit\nmain &gt; result.txt\n</code></pre>\n<h3 id=\"linux-2\"><a class=\"anchor\" href=\"#linux-2\">#</a> Linux</h3>\n<pre><code>// --coverage - The option is a synonym for -fprofile-arcs -ftest-coverage (when compiling) and -lgcov (when linking)\n\ngcc -c main.c -o main.o --coverage\ngcc main.o -o main -lgcov -lcunit\n./main &gt; result.txt\n</code></pre>\n<h2 id=\"coverage-testing\"><a class=\"anchor\" href=\"#coverage-testing\">#</a> Coverage Testing</h2>\n<h3 id=\"windows-3\"><a class=\"anchor\" href=\"#windows-3\">#</a> Windows</h3>\n<pre><code>gcov main.gcda\nren main.c.gcov coverage.txt\n</code></pre>\n<h3 id=\"linux-3\"><a class=\"anchor\" href=\"#linux-3\">#</a> Linux</h3>\n<pre><code>gcov main.gcda\nmv main.c.gcov coverage.txt\n</code></pre>\n<p>產生 HTML 圖表</p>\n<pre><code>lcov -c -d . -o test.info --rc lcov_branch_coverage=1\ngenhtml --branch-coverage -o result test.info\n</code></pre>\n<h2 id=\"參考來源\"><a class=\"anchor\" href=\"#參考來源\">#</a> 參考來源</h2>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2dvZG1heWNyeS9hcnRpY2xlL2RldGFpbHMvNzc0ODA1NDk=\">https://blog.csdn.net/godmaycry/article/details/77480549</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NjEwODA5L2FydGljbGUvZGV0YWlscy8xMjIzNjQ2NTk=\">https://blog.csdn.net/qq_44610809/article/details/122364659</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC80MTAwNzc0MTU=\">https://zhuanlan.zhihu.com/p/410077415</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9nY2MuZ251Lm9yZy9vbmxpbmVkb2NzL2djYy9JbnN0cnVtZW50YXRpb24tT3B0aW9ucy5odG1sI0luc3RydW1lbnRhdGlvbi1PcHRpb25z\">https://gcc.gnu.org/onlinedocs/gcc/Instrumentation-Options.html#Instrumentation-Options</span></li>\n</ul>\n",
            "tags": [
                "程式設計",
                "C",
                "單元測試",
                "testing"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/c/Linux%E9%80%B2%E9%9A%8E%E6%87%89%E7%94%A8/",
            "url": "https://d1074181045.github.io/programming/c/Linux%E9%80%B2%E9%9A%8E%E6%87%89%E7%94%A8/",
            "title": "Linux 進階應用",
            "date_published": "2023-08-24T16:00:00.000Z",
            "content_html": "<h2 id=\"httpd\"><a class=\"anchor\" href=\"#httpd\">#</a> httpd</h2>\n<h3 id=\"預設路徑\"><a class=\"anchor\" href=\"#預設路徑\">#</a> 預設路徑</h3>\n<table>\n<thead>\n<tr>\n<th>說明</th>\n<th>路徑</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>伺服器 設定檔目錄</td>\n<td><code>/etc/httpd/</code></td>\n</tr>\n<tr>\n<td>伺服器 讀取檔目錄</td>\n<td><code>/var/www/</code></td>\n</tr>\n<tr>\n<td>伺服器 預設網頁目錄</td>\n<td><code>/var/www/html/</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"安裝套件\"><a class=\"anchor\" href=\"#安裝套件\">#</a> 安裝套件</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> httpd</pre></td></tr></table></figure><h3 id=\"使用者網頁\"><a class=\"anchor\" href=\"#使用者網頁\">#</a> 使用者網頁</h3>\n<p>開啟使用者網頁設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/httpd/conf.d/userdir.conf</pre></td></tr></table></figure><p>修改使用者網頁設定檔如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;</span>IfModule</span><span class=\"token directive-block-parameter attr-value\"> mod_userdir.c</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\"># UserDir is disabled by default since it can confirm the presence</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\"># of a username on the system (depending on home directory</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\"># permissions).</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\"># UserDir disabled #此為關閉使用者目錄功能</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\"># To enable requests to /~user/ to serve the user's public_html</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\"># directory, remove the \"UserDir disabled\" line above, and uncomment</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\"># the following line instead:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\"># </span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token directive-inline property\">UserDir</span> public_html <span class=\"token comment\">#此為使用者目錄下資料夾的名稱 (enabled)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;/</span>IfModule</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   <span class=\"token comment\"># 後面無更動，勿刪除</span></pre></td></tr></table></figure><p>新增或修改 後續內容如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;</span>Directory</span><span class=\"token directive-block-parameter attr-value\"> <span class=\"token string\">\"/home/*/public_html\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token directive-inline property\">AllowOverride</span> FileInfo AuthConfig Limit Indexes</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token directive-inline property\">Options</span> MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token directive-inline property\">Require</span> method GET POST OPTIONS</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;/</span>Directory</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>進入 home 目錄</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /home</pre></td></tr></table></figure><p>更改指定資料夾權限</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">chmod</span> o+x cin-whitelist</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">chmod</span> o+x cin-blacklist</pre></td></tr></table></figure><p>重新啟動伺服器</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart httpd</pre></td></tr></table></figure><h3 id=\"使用者登入驗證\"><a class=\"anchor\" href=\"#使用者登入驗證\">#</a> 使用者登入驗證</h3>\n<p>新增使用者</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">useradd</span> cin-login_authen</pre></td></tr></table></figure><p>開啟使用者網頁設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/httpd/conf.d/userdir.conf</pre></td></tr></table></figure><p>在使用者網頁設定檔新增如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;</span>Directory</span><span class=\"token directive-block-parameter attr-value\"> <span class=\"token string\">\"/home/cin-login_authen/public_html\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token directive-inline property\">AllowOverride</span> FileInfo AuthConfig Limit Indexes</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token directive-inline property\">Options</span> MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token directive-inline property\">Require</span> method GET POST OPTIONS</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;/</span>Directory</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>登入指定使用者</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">su</span> - cin-login_authen</pre></td></tr></table></figure><p>在指定使用者家目錄建立資料夾</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> public_html</pre></td></tr></table></figure><p>在 public_html 底下建立 index.html</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> public_html/index.html</pre></td></tr></table></figure><p>在 public_html 底下建立 .htaccess</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> public_html/.htaccess</pre></td></tr></table></figure><p>開啟 .htaccess，新增如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token directive-inline property\">AuthName</span> <span class=\"token string\">\"cin-login_authen\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token directive-inline property\">AuthType</span> Basic</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token directive-inline property\">AuthUserFile</span> <span class=\"token string\">\"var/www/html/ht_key1\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token directive-inline property\">Require</span> valid-user</pre></td></tr></table></figure><p>進入 home 目錄</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /home</pre></td></tr></table></figure><p>更改指定資料夾權限</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">chmod</span> o+x cin-login_authen</pre></td></tr></table></figure><p>登入 root ，增加網頁密碼認證</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>htpasswd <span class=\"token parameter variable\">-c</span> /var/www/html/ht_key1 cin-login_authen</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Enter 後，輸入兩次所要相同密碼，及成功</pre></td></tr></table></figure><p>重新啟動伺服器</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart httpd</pre></td></tr></table></figure><h3 id=\"指定-ip-專屬網頁\"><a class=\"anchor\" href=\"#指定-ip-專屬網頁\">#</a> 指定 IP 專屬網頁</h3>\n<p>建立一個 IP</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ip</span> a a dev enp0s3 <span class=\"token number\">192.168</span>.1.10</pre></td></tr></table></figure><p>開啟 網頁設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/httpd/conf/httpd.conf</pre></td></tr></table></figure><p>在 網頁設定檔，新增如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;</span>VirtualHost</span><span class=\"token directive-block-parameter attr-value\"> 192.168.1.10<span class=\"token punctuation\">:</span>80</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token directive-inline property\">DocumentRoot</span> <span class=\"token string\">\"/var/www/html/www1\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>&lt;/VirtualHost</pre></td></tr></table></figure><p>重新啟動伺服器</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart httpd</pre></td></tr></table></figure><h3 id=\"指定-ip-網址-專屬網頁-需設定-dns-解析\"><a class=\"anchor\" href=\"#指定-ip-網址-專屬網頁-需設定-dns-解析\">#</a> 指定 IP + 網址 專屬網頁 (需設定 dns 解析)</h3>\n<p>建立一個 IP</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ip</span> a a dev enp0s3 <span class=\"token number\">192.168</span>.1.20</pre></td></tr></table></figure><p>開啟 網頁設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/httpd/conf/httpd.conf</pre></td></tr></table></figure><p>在 網頁設定檔，新增如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;</span>VirtualHost</span><span class=\"token directive-block-parameter attr-value\"> 192.168.1.20<span class=\"token punctuation\">:</span>80</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token directive-inline property\">ServerName</span> www1.cin2a27-101.lhu.edu.tw</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token directive-inline property\">DocumentRoot</span> <span class=\"token string\">\"/var/www/html/www2\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token directive-block tag\"><span class=\"token directive-block tag\"><span class=\"token punctuation\">&lt;/</span>VirtualHost</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>重新啟動伺服器</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart httpd</pre></td></tr></table></figure><h2 id=\"vsftpd\"><a class=\"anchor\" href=\"#vsftpd\">#</a> vsftpd</h2>\n<h3 id=\"預設路徑-2\"><a class=\"anchor\" href=\"#預設路徑-2\">#</a> 預設路徑</h3>\n<table>\n<thead>\n<tr>\n<th>說明</th>\n<th>路徑</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>伺服器 設定</td>\n<td><code>/etc/vsftpd/</code></td>\n</tr>\n<tr>\n<td>伺服器 匿名存取</td>\n<td><code>/var/ftp/</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"安裝套件-2\"><a class=\"anchor\" href=\"#安裝套件-2\">#</a> 安裝套件</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> vsftpd</pre></td></tr></table></figure><h3 id=\"允許-anonymous-上傳下載檔案\"><a class=\"anchor\" href=\"#允許-anonymous-上傳下載檔案\">#</a> 允許 anonymous 上傳 / 下載檔案</h3>\n<p>設定 pub 資料夾 擁有者 與 群組</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">chown</span> root.ftp /var/ftp/pub/</pre></td></tr></table></figure><p>設定 pub 資料夾權限</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">chmod</span> <span class=\"token number\">775</span> /var/ftp/pub/</pre></td></tr></table></figure><p>開啟 ftp 伺服器設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/vsftpd/vsftpd.conf</pre></td></tr></table></figure><p>新增或修改 內容如下</p>\n<pre><code class=\"language-conf\">anon_umask=022                  # (更改上傳檔案的權限) (預設077)\nanonymous_enable=YES            # (開放匿名) (預設YES)\nanon_world_readable_only=YES  \t# (下載權限) (預設YES)\nanon_upload_enable=YES          # (上傳權限) (預設NO)\n</code></pre>\n<p>重新啟動 vsftpd</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart vsftpd</pre></td></tr></table></figure><h3 id=\"登入提示\"><a class=\"anchor\" href=\"#登入提示\">#</a> 登入提示</h3>\n<p>新建 資料夾</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> /var/banner/</pre></td></tr></table></figure><p>新增 提示文件</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /var/banner/banner1.txt</pre></td></tr></table></figure><p>編輯 banner1.txt</p>\n<pre><code>Welcome to My ftp server\n</code></pre>\n<p>開啟 ftp 伺服器設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/vsftpd/vsftpd.conf</pre></td></tr></table></figure><p>新增或修改 內容如下</p>\n<pre><code class=\"language-conf\">ftpd_banner=This is ftp server         # (一行顯示訊息) (預設註解)\nbanner_file=/var/banner/banner1.txt    # (顯示檔案內容，可顯示多行) (預設註解)\n</code></pre>\n<p>重新啟動 vsftpd</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart vsftpd</pre></td></tr></table></figure><h3 id=\"開啟-時間使用者人數-限制\"><a class=\"anchor\" href=\"#開啟-時間使用者人數-限制\">#</a> 開啟 時間 / 使用者人數 限制</h3>\n<p>編輯 vsftpd.conf</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/vsftpd/vsftpd.conf</pre></td></tr></table></figure><p>新增或修改 內容如下</p>\n<pre><code class=\"language-conf\">max_clients=1 \t\t\t# (客戶端同時登入限制) (預設2000)\nidle_session_timeout=10 # (客戶端時間限制) (預設300) (秒)\n</code></pre>\n<p>重新啟動 vsftpd</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart vsftpd</pre></td></tr></table></figure><h3 id=\"獨立啟動-listen\"><a class=\"anchor\" href=\"#獨立啟動-listen\">#</a> 獨立啟動 (listen)</h3>\n<p>複製 設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cp</span> /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd2.conf</pre></td></tr></table></figure><p>編輯 vsftpd2.conf</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/vsftpd/vsftpd2.conf</pre></td></tr></table></figure><p>新增或修改 內容如下</p>\n<pre><code class=\"language-conf\">listen=YES\t\t\t# (獨立模式) (預設NO)\nlisten_ipv6=NO\t\t\t# (獨立模式ipv6) (預設NO)\nlisten_address=192.168.27.1\t# (獨立模式所使用ip) (預設沒有)\n</code></pre>\n<p>關閉 vsftp (原始)</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl stop vsftpd</pre></td></tr></table></figure><p>重新啟動 vsftpd (獨立)</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart vsftpd@vsftpd2</pre></td></tr></table></figure><h2 id=\"dhcpd\"><a class=\"anchor\" href=\"#dhcpd\">#</a> dhcpd</h2>\n<h3 id=\"預設路徑-3\"><a class=\"anchor\" href=\"#預設路徑-3\">#</a> 預設路徑</h3>\n<table>\n<thead>\n<tr>\n<th>說明</th>\n<th>路徑</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>伺服器 設定檔目錄</td>\n<td><code>/etc/dhcp/</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"安裝套件-3\"><a class=\"anchor\" href=\"#安裝套件-3\">#</a> 安裝套件</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> dhcpd</pre></td></tr></table></figure><h3 id=\"配置ip\"><a class=\"anchor\" href=\"#配置ip\">#</a> 配置 IP</h3>\n<p>開啟 dhcpd 設定檔 (ipv4)</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/dhcp/dhcpd.conf</pre></td></tr></table></figure><p>新增或修改 內容如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>subnet 192.168.27.0 netmask 255.255.255.0 &#123; \t<span class=\"token comment\"># 網路識別碼 與 遮罩</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  range 192.168.27.100 192.168.27.200; \t\t<span class=\"token comment\"># 分配範圍</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  option domain-name-servers 192.168.27.181;  \t<span class=\"token comment\"># DHCP 伺服器 IP</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  option domain-name <span class=\"token string\">\"cin2a27.lhu.edu.tw\"</span>;  \t<span class=\"token comment\"># DHCP 伺服器 dns 名稱</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  option routers 192.168.27.181; \t\t<span class=\"token comment\"># 預設閘道</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  option broadcast-address 192.168.27.255; \t<span class=\"token comment\"># 廣播位址 (通常最後都是.255)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  default-lease-time 600; \t\t\t<span class=\"token comment\"># 租約最短時間 (s)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  max-lease-time 7200; \t\t\t\t<span class=\"token comment\"># 租約最長時間 (s)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>&#125;</pre></td></tr></table></figure><h2 id=\"dns\"><a class=\"anchor\" href=\"#dns\">#</a> dns</h2>\n<h3 id=\"預設路徑-4\"><a class=\"anchor\" href=\"#預設路徑-4\">#</a> 預設路徑</h3>\n<table>\n<thead>\n<tr>\n<th>說明</th>\n<th>路徑</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>伺服器 設定檔目錄</td>\n<td><code>/etc/named.conf&lt;br&gt;/etc/named.rfc1912.zones</code></td>\n</tr>\n<tr>\n<td>伺服器 讀取檔目錄</td>\n<td><code>/var/named/</code></td>\n</tr>\n<tr>\n<td>DNS 讀取檔</td>\n<td><code>/etc/resolv.conf</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"安裝套件-4\"><a class=\"anchor\" href=\"#安裝套件-4\">#</a> 安裝套件</h3>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token builtin class-name\">bind</span></pre></td></tr></table></figure><h3 id=\"dns-解析正\"><a class=\"anchor\" href=\"#dns-解析正\">#</a> DNS 解析 (正)</h3>\n<p>建立一個 IP</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ip</span> a a dev enp0s3 <span class=\"token number\">192.168</span>.100.254</pre></td></tr></table></figure><p>開啟伺服器 設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/named.conf</pre></td></tr></table></figure><p>在 named.conf 修改如下</p>\n<pre><code class=\"language-conf\">listen-on port 53 &#123; 127.0.0.1; &#125;; → listen-on port 53 &#123; any; &#125;;\nallow-query     &#123; 127.0.0.1; &#125;;  →  allow-query     &#123; any; &#125;;\n</code></pre>\n<p>開啟伺服器 設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/named.rfc1912.zones</pre></td></tr></table></figure><p>在 named.rfc1912.zones 新增如旁</p>\n<pre><code class=\"language-conf\">zone &quot;cin2a27-m101.lhu.edu.tw&quot; IN &#123;\n        type master;\n        file &quot;named.cin2a27-m101.lhu.edu.tw&quot;; //讀取檔案名稱\n        allow-update &#123; none; &#125;;\n&#125;;\n</code></pre>\n<p>進入 伺服器讀取 位置</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /var/named/</pre></td></tr></table></figure><p>建立 讀取檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> named.cin2a27-m101.lhu.edu.tw</pre></td></tr></table></figure><p>在 讀取檔 新增如下 (範例)</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">$TTL</span>    600</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>@\t\t\t\t\tIN SOA  master.cin2a27-m101.lhu.edu.tw.   vbird.www.cin2a27-m101.lhu.edu.tw.  ( </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t2011080401</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t3H</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t15M</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1W</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1D )</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>@\t\t\t\t\tIN NS    master.cin2a27-m101.lhu.edu.tw.\t; DNS 伺服器名稱</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>master.cin2a27-m101.lhu.edu.tw.\t\tIN A     192.168.100.254         \t\t; DNS 伺服器 IP</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>@\t\t\t\t\tIN MX 10 www.cin2a27-m101.lhu.edu.tw.\t\t; 領域名稱的郵件伺服器</pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># 針對 192.168.100.254 這部主機的所有相關正解設定。</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>www.cin2a27-m101.lhu.edu.tw.\t\tIN A     192.168.100.254</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>linux.cin2a27-m101.lhu.edu.tw.\t\tIN CNAME www.cin2a27-m101.lhu.edu.tw.</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>ftp.cin2a27-m101.lhu.edu.tw.\t\tIN CNAME www.cin2a27-m101.lhu.edu.tw.</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>forum.cin2a27-m101.lhu.edu.tw.\t\tIN CNAME www.cin2a27-m101.lhu.edu.tw.</pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># 其他幾部主機的主機名稱正解設定。</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>slave.cin2a27-m101.lhu.edu.tw.\t\tIN A    192.168.100.10</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>clientlinux.cin2a27-m101.lhu.edu.tw.\tIN A    192.168.100.10</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>workstation.cin2a27-m101.lhu.edu.tw.\tIN A    192.168.1.101</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>winxp.cin2a27-m101.lhu.edu.tw.\t\tIN A    192.168.100.20</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>win7\t\t\t\t\tIN A    192.168.100.30  ; 這是簡化的寫法！</pre></td></tr></table></figure><p>重新啟動 伺服器</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart named</pre></td></tr></table></figure><h3 id=\"dns-解析反\"><a class=\"anchor\" href=\"#dns-解析反\">#</a> DNS 解析 (反)</h3>\n<p>開啟伺服器 設定檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/named.rfc1912.zones</pre></td></tr></table></figure><p>在 named.rfc1912.zones 新增如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>zone <span class=\"token string\">\"100.168.192.in-addr.arpa\"</span> IN &#123;</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        type master;</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        file <span class=\"token string\">\"named.192.168.100\"</span>; //讀取檔案名稱</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token directive-inline property\">allow</span>-update &#123; none; &#125;;</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>&#125;;</pre></td></tr></table></figure><p>進入 伺服器讀取 位置</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /var/named/</pre></td></tr></table></figure><p>建立 讀取檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> named.192.168.100</pre></td></tr></table></figure><p>在 讀取檔 新增如下 (範例)</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">$TTL</span>    600</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>@    IN SOA\tmaster.cin2a27-m101.lhu.edu.tw.   vbird.www.cin2a27-m101.lhu.edu.tw.  ( </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                                                                                        2011080401</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                                                                                        3H</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                                                                                        15M</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                                                                                        1W</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                                                                                        1D )</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>@    IN NS\tmaster.cin2a27-m101.lhu.edu.tw.\t\t; DNS 伺服器名稱</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>254  IN PTR\tmaster.cin2a27-m101.lhu.edu.tw.\t\t; DNS 伺服器 IP</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>@    IN MX 10\twww.cin2a27-m101.lhu.edu.tw.\t\t; 領域名稱的郵件伺服器</pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># 針對 192.168.100.254 這部主機的所有相關反解設定。</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>254  IN PTR\twww.cin2a27-m101.lhu.edu.tw.</pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># 其他幾部主機的主機名稱反解設定。</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>10   IN PTR\tslave.cin2a27-m101.lhu.edu.tw.</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>10   IN PTR\tclientlinux.cin2a27-m101.lhu.edu.tw.</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>20   IN PTR\twinxp.cin2a27-m101.lhu.edu.tw.</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>30   IN PTR\twin7.cin2a27-m101.lhu.edu.tw.</pre></td></tr></table></figure><p>重新啟動 伺服器</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl restart named</pre></td></tr></table></figure><h3 id=\"自我測式\"><a class=\"anchor\" href=\"#自我測式\">#</a> 自我測式</h3>\n<p>開啟 DNS 讀取檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> /etc/resolv.conf</pre></td></tr></table></figure><p>在 resolv.conf 新增如下</p>\n<figure class=\"highlight apacheconf\"><figcaption data-lang=\"Apache Configuration\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nameserver 192.168.100.254</pre></td></tr></table></figure><p>進行 dns 正解析測式</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">dig</span> www.cin2a27-m101.lhu.edu.tw</pre></td></tr></table></figure><p>正解析測式 有此結果為正確</p>\n<pre><code>;; ANSWER SECTION:\nwww.cin2a27-m101.lhu.edu.tw. 600     IN        A        192.168.100.254\n</code></pre>\n<p>進行 dns 反解析測式</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">dig</span> <span class=\"token parameter variable\">-x</span> <span class=\"token number\">192.168</span>.100.254</pre></td></tr></table></figure><p>反解析測式 有此結果為正確</p>\n<pre><code>;; ANSWER SECTION:\n254.100.168.192.in-addr.arpa. 600        IN        PTR        www.cin2a27-m101.lhu.edu.tw.\n</code></pre>\n<h2 id=\"yum-源\"><a class=\"anchor\" href=\"#yum-源\">#</a> yum 源</h2>\n<h3 id=\"建置-yum-源server\"><a class=\"anchor\" href=\"#建置-yum-源server\">#</a> 建置 yum 源 (Server)</h3>\n<p>在根目錄新建用戶端存取源</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> httpd</pre></td></tr></table></figure><p>下載所要存放的 rpm 檔</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yumdownloader <span class=\"token parameter variable\">--destdir</span> /rpms/ <span class=\"token parameter variable\">--resolve</span> vsftpd</pre></td></tr></table></figure><p>將檔案 依賴性關係 建立到 用戶端存取源</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>createrepo /rpms</pre></td></tr></table></figure><p>重建 yum 緩存</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum clean all</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>yum <span class=\"token parameter variable\">-y</span> makecache</pre></td></tr></table></figure><h3 id=\"更改-yum-獲取源\"><a class=\"anchor\" href=\"#更改-yum-獲取源\">#</a> 更改 yum 獲取源</h3>\n<p>移動到 yum 獲取源 位置</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /etc/yum.repos.d</pre></td></tr></table></figure><p>新增 yum 獲取源 備份資料夾</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> old_repos</pre></td></tr></table></figure><p>移動 所有 yum 獲取源 到 備份資料夾</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mv</span> * old_repos</pre></td></tr></table></figure><p>新增自己的 yum 獲取源</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">vim</span> local.repo</pre></td></tr></table></figure><p>baseurl 為 yum 獲取源 位置</p>\n<figure class=\"highlight vim\"><figcaption data-lang=\"vim\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>local_repo<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>name<span class=\"token operator\">=</span>local_repo</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>baseurl<span class=\"token operator\">=</span>ftp<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">192.168</span><span class=\"token operator\">.</span><span class=\"token number\">0.5</span><span class=\"token operator\">/</span>pub</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>gpgcheck<span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>gpgkey<span class=\"token operator\">=</span><span class=\"token keyword\">file</span><span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>pki<span class=\"token operator\">/</span>rpm<span class=\"token operator\">-</span>gpg<span class=\"token operator\">/</span>RPM<span class=\"token operator\">-</span>GPG<span class=\"token operator\">-</span>KEY<span class=\"token operator\">-</span>CentOS<span class=\"token operator\">-</span><span class=\"token number\">7</span></pre></td></tr></table></figure><p>重建 yum 緩存</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum clean all</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>yum <span class=\"token parameter variable\">-y</span> makecache</pre></td></tr></table></figure>",
            "tags": [
                "linux"
            ]
        },
        {
            "id": "https://d1074181045.github.io/programming/c/Linux%E5%9F%BA%E7%A4%8E%E6%8C%87%E4%BB%A4/",
            "url": "https://d1074181045.github.io/programming/c/Linux%E5%9F%BA%E7%A4%8E%E6%8C%87%E4%BB%A4/",
            "title": "Linux 基礎指令",
            "date_published": "2023-08-23T16:00:00.000Z",
            "content_html": "<h2 id=\"查詢應用\"><a class=\"anchor\" href=\"#查詢應用\">#</a> 查詢應用</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>man [instruction]</td>\n<td>查詢指令相關說明</td>\n<td>在裡面打 /[search] 可以搜尋 [search]</td>\n<td>man ifconfig</td>\n</tr>\n<tr>\n<td>which [instruction]</td>\n<td>查詢指令所在的絕對路徑</td>\n<td></td>\n<td>which shutdown</td>\n</tr>\n<tr>\n<td>history</td>\n<td>查詢紀錄</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>ifconfig</td>\n<td>查詢網路 ip</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>ip a</td>\n<td>查詢所有網路設備相關訊息</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>time vim [file]</td>\n<td>計時開啟檔案時間</td>\n<td></td>\n<td>time vim ex1.txt</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"查詢目標\"><a class=\"anchor\" href=\"#查詢目標\">#</a> 查詢目標</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ps aux | grep [Keyword]</td>\n<td>查詢程序關鍵字</td>\n<td></td>\n<td>ps aux|grep ftp</td>\n</tr>\n<tr>\n<td>history | grep [Keyword]</td>\n<td>查詢歷史紀錄關鍵字</td>\n<td></td>\n<td>history|grep ftp</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"目錄操作\"><a class=\"anchor\" href=\"#目錄操作\">#</a> 目錄操作</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cd [directory]</td>\n<td>移動到目錄</td>\n<td>. 代表此層目錄<br>.. 代表上一層目錄 - 代表前一個工作目錄<br>~ 代表『目前使用者身份』所在的家目錄<br>~account  代表 account 這個使用者的家目錄</td>\n<td>cd /root</td>\n</tr>\n<tr>\n<td>pwd [-P]</td>\n<td>顯示目前所在目錄</td>\n<td>-P 顯示完整路徑</td>\n<td></td>\n</tr>\n<tr>\n<td>ll</td>\n<td>顯示所在目錄內容</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>ls</td>\n<td>展開目錄內容</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>ls -R*</td>\n<td>連同子目錄內容一起列出來</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"安裝應用\"><a class=\"anchor\" href=\"#安裝應用\">#</a> 安裝應用</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>rpm [-i|v|h] [package]</td>\n<td>安裝套件</td>\n<td>-i  安裝<br>-v 細部的安裝資訊 + 顯示安裝進度<br>-h 顯示安裝進度</td>\n<td>rpm -ivh ex2.rpm</td>\n</tr>\n<tr>\n<td>yum install [package]</td>\n<td>線上下載且安裝套件</td>\n<td></td>\n<td>yum install vsftpd</td>\n</tr>\n<tr>\n<td>yum remove [package]</td>\n<td>反安裝套件</td>\n<td></td>\n<td>yum remove vsftpd</td>\n</tr>\n<tr>\n<td>yumdownloader [package] [--destdir] [--resolve]</td>\n<td>線上下載套件</td>\n<td>--resolve 下載相依套件<br>--destdir 選擇存放地</td>\n<td>yumdownloader vsftpd --destdir /etc/rpms/ --resolve</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"檔案讀取\"><a class=\"anchor\" href=\"#檔案讀取\">#</a> 檔案讀取</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cat [file]</td>\n<td>讀取檔案</td>\n<td></td>\n<td>cat text.txt</td>\n</tr>\n<tr>\n<td>more [file]</td>\n<td>讀取檔案，並一段一段檢視</td>\n<td></td>\n<td>more text.txt</td>\n</tr>\n<tr>\n<td>less [file]</td>\n<td>同 more，些微差異</td>\n<td></td>\n<td>less text.txt</td>\n</tr>\n<tr>\n<td>./[file]</td>\n<td>執行檔案</td>\n<td></td>\n<td>./script.sh</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"連線操作\"><a class=\"anchor\" href=\"#連線操作\">#</a> 連線操作</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>su</td>\n<td>使用管理員權限</td>\n<td></td>\n<td>su</td>\n</tr>\n<tr>\n<td>su - [user]</td>\n<td>切換使用者，並到家目錄</td>\n<td></td>\n<td>su - cin2a-99</td>\n</tr>\n<tr>\n<td>ssh [user]@[ip]</td>\n<td>使用遠端登入</td>\n<td></td>\n<td>ssh <span class=\"exturl\" data-url=\"bWFpbHRvOmNpbjJhLTk5QDE5Mi4xNjguMS4x\">cin2a-99@192.168.1.1</span></td>\n</tr>\n<tr>\n<td>ftp [ip]</td>\n<td>登入 ftp</td>\n<td></td>\n<td>ftp 192.168.1.1</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"使用者操作\"><a class=\"anchor\" href=\"#使用者操作\">#</a> 使用者操作</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>新建使用者</td>\n<td></td>\n<td>useradd cin2a-99</td>\n</tr>\n<tr>\n<td></td>\n<td>刪除使用者</td>\n<td>-r 代表連同刪除使用者檔案</td>\n<td>userdel -r cin2a-99</td>\n</tr>\n<tr>\n<td></td>\n<td>更改目前使用者密碼</td>\n<td></td>\n<td>passwd</td>\n</tr>\n<tr>\n<td></td>\n<td>更改指定使用者密碼</td>\n<td></td>\n<td>passwd cin2a-99</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"權限更改\"><a class=\"anchor\" href=\"#權限更改\">#</a> 權限更改</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>u = 擁有者，g = 群組，o = 其他使用者，a = 上述三者全部<br>r = 讀取，w = 寫入，x = 執行，s=t = 短暫 root 權限<br>普通權限數字：r=4, w=2, x=1<br>特殊權限數字：u+s=4, g+s=2, o+t=1&quot;</td>\n<td><strong>目錄</strong>：<br>r = 允許 讀取 該目錄底下檔案<br>w = 允許在該目錄底下 刪除 / 新增 的檔案<br>x = 允許 進入 該目錄<br><strong>檔案</strong>：<br>r = 允許 讀取 該檔案<br>w = 允許 修改 / 編輯 該檔案<br>x = 允許 執行 該檔案</td>\n<td>chmod 4777 test_dir</td>\n</tr>\n<tr>\n<td>chmod a=rwx [directory]</td>\n<td>更改檔案擁有全部權限</td>\n<td></td>\n<td>chmod a=rwx test_dir</td>\n</tr>\n<tr>\n<td>chmod u=rwx,g=rwx,o=rwx [directory]</td>\n<td>更改檔案的「擁有者、群組、其他使用者」，擁有全部權限</td>\n<td></td>\n<td>chmod u=rwx,g=rwx,o=rwx test_dir<br>chmod 777 test_dir</td>\n</tr>\n<tr>\n<td>chmod u-rwx,o+rwx [directory]</td>\n<td>更改檔案的「擁有者」去掉所有權；「群組」新增所有權</td>\n<td></td>\n<td>chmod u-rwx,o+rwx test_dir</td>\n</tr>\n<tr>\n<td>chown [user1].[user2] [directory]</td>\n<td>更改檔案的「擁有者」為 user1；「群組」為 user2</td>\n<td></td>\n<td>chown cin2a-27.cin2a-28 test_dir</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"資料操作\"><a class=\"anchor\" href=\"#資料操作\">#</a> 資料操作</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cp [-r] [source] [purpose]</td>\n<td>複製 檔案 / 資料夾</td>\n<td>-r 複製資料夾，及內容物</td>\n<td>cp test.txt ./<br>cp -r test/ ./</td>\n</tr>\n<tr>\n<td>mv [source] [purpose]</td>\n<td>移動 檔案 / 資料夾</td>\n<td>如果在 來源 跟 目的 位置一樣，則更改名字</td>\n<td>mv test/test.txt ./<br>mv test.txt test2.txt</td>\n</tr>\n<tr>\n<td>touch [file]</td>\n<td>建立檔案</td>\n<td></td>\n<td>touch text.txt</td>\n</tr>\n<tr>\n<td>dd if=/dev/zero of=[file] bs=[size] count=[N]</td>\n<td>建立檔案，指定檔案大小為 size * N</td>\n<td></td>\n<td>dd if=/dev/zero of=text bs=3M count=1</td>\n</tr>\n<tr>\n<td>mkdir [-p] [directory]</td>\n<td>建立資料夾</td>\n<td>-p 幫你建立所需要目錄</td>\n<td>mkdir test_dir</td>\n</tr>\n<tr>\n<td>rm [-r|f] [file]</td>\n<td>刪除檔案</td>\n<td>-r 刪除資料夾及內容物<br>-f 強制刪除</td>\n<td>rm -rf test_dir</td>\n</tr>\n<tr>\n<td>diff [file1] [file2]</td>\n<td>檢查檔案是否有差異</td>\n<td></td>\n<td>diff text1 text2</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"壓縮與解壓縮\"><a class=\"anchor\" href=\"#壓縮與解壓縮\">#</a> 壓縮與解壓縮</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td>-v 顯示過程<br>-j  使用.tar.bz2 格式<br>-f  指定檔案名稱</td>\n<td></td>\n</tr>\n<tr>\n<td>tar [-c|v|j|f] [filename] [copylocation]</td>\n<td>壓縮檔案</td>\n<td>-c 壓縮</td>\n<td>tar -cvjf tar_test /tar_dir/*</td>\n</tr>\n<tr>\n<td>tar [-x|v|j|f] [filename]</td>\n<td>解壓縮檔案</td>\n<td>-c 解壓縮</td>\n<td>tar -xvjf tar_test</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"工作排程\"><a class=\"anchor\" href=\"#工作排程\">#</a> 工作排程</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>crontab [-e|l]</td>\n<td>下週期性的命令</td>\n<td>-e 為設定命令<br>-l  為查詢設定的命令</td>\n<td>crontab -e<br>crontab -l</td>\n</tr>\n<tr>\n<td>at [TIME]</td>\n<td>下一次性的命令</td>\n<td>TIME 格式為 HH:MM YYYY-MM-DD</td>\n<td>at 23:59 2019-12-30</td>\n</tr>\n<tr>\n<td>atq</td>\n<td></td>\n<td>列出目前系統上面的所有該使用者的 at 排程順序</td>\n<td>atq</td>\n</tr>\n<tr>\n<td>atrm [n]</td>\n<td>刪除一個在 at 排程中的工作</td>\n<td>刪除的排程順序為 n</td>\n<td>atrm 1</td>\n</tr>\n<tr>\n<td>at -c [n]</td>\n<td>列出工作的實際指令內容</td>\n<td>列出的排程順序為 n</td>\n<td>at -c 1</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"磁碟\"><a class=\"anchor\" href=\"#磁碟\">#</a> 磁碟</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>xfs 為 xfsprogs 工具</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>df -h</td>\n<td>查詢分割區使用狀況</td>\n<td></td>\n<td>df -h</td>\n</tr>\n<tr>\n<td>lsblk</td>\n<td>查詢磁碟掛載</td>\n<td></td>\n<td>lsblk</td>\n</tr>\n<tr>\n<td>blkid</td>\n<td>列出裝置的 UUID 等參數</td>\n<td></td>\n<td>blkid</td>\n</tr>\n<tr>\n<td>parted [/dev/sdb] print</td>\n<td>列出磁碟的分割表類型與分割資訊</td>\n<td></td>\n<td>parted /dev/sdb print</td>\n</tr>\n<tr>\n<td>fdisk [/dev/sdb]</td>\n<td>磁碟分割，MBR 分割表格式</td>\n<td></td>\n<td>fdisk /dev/sdb</td>\n</tr>\n<tr>\n<td>gdisk [/dev/sdb]</td>\n<td>磁碟分割，GPT 分割表格式</td>\n<td></td>\n<td>gdisk /dev/sdb</td>\n</tr>\n<tr>\n<td>mkfs.xfs [/dev/sdb]</td>\n<td>格式化磁碟</td>\n<td></td>\n<td>mkfs.xfs /dev/sdb</td>\n</tr>\n<tr>\n<td>mount [/dev/sdb] [hd1]</td>\n<td>掛載磁碟</td>\n<td></td>\n<td>mount /dev/sdb hd1</td>\n</tr>\n<tr>\n<td>mount -a</td>\n<td>將可掛載的全掛載</td>\n<td></td>\n<td>mount -a</td>\n</tr>\n<tr>\n<td>umount [/dev/hd1]</td>\n<td>卸載</td>\n<td></td>\n<td>umount /dev/hd1</td>\n</tr>\n<tr>\n<td>quota</td>\n<td>查詢目前空間配額</td>\n<td></td>\n<td>quota</td>\n</tr>\n<tr>\n<td>repquota -a</td>\n<td>查詢全部使用者空間配額</td>\n<td></td>\n<td>repquota -a</td>\n</tr>\n<tr>\n<td>xfs_quota -x -c ’limit bsoft=[M1] bhard=[M2] [user]’ /[home]</td>\n<td>為使用者設定配額</td>\n<td>軟配額 M1<br>硬配額 M2<br>指定配額位置 home</td>\n<td>xfs_quota -x -c ’limit bsoft=2M bhard=3M cin2a-27’ /home</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"介面更改\"><a class=\"anchor\" href=\"#介面更改\">#</a> 介面更改</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>systemctl get-default</td>\n<td>查詢目前介面</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>systemctl set-default multi-user.target</td>\n<td>切換為文字介面</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>systemctl set-default graphical.targer</td>\n<td>切換為圖形介面</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"程序控制\"><a class=\"anchor\" href=\"#程序控制\">#</a> 程序控制</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>systemctl status [name]</td>\n<td>查詢程序狀態</td>\n<td></td>\n<td>systemctl status httpd</td>\n</tr>\n<tr>\n<td>systemctl start [name]</td>\n<td>開啟程序</td>\n<td></td>\n<td>systemctl start httpd</td>\n</tr>\n<tr>\n<td>systemctl stop [name]</td>\n<td>停止程序</td>\n<td></td>\n<td>systemctl stop httpd</td>\n</tr>\n<tr>\n<td>systemctl restart [name]</td>\n<td>重新啟動程序</td>\n<td></td>\n<td>systemctl restart httpd</td>\n</tr>\n<tr>\n<td>systemctl enable [name]</td>\n<td>永久開啟程序</td>\n<td></td>\n<td>systemctl enable httpd</td>\n</tr>\n<tr>\n<td>systemctl disable [name]</td>\n<td>永久關閉程序</td>\n<td></td>\n<td>systemctl disable httpd</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"防火牆\"><a class=\"anchor\" href=\"#防火牆\">#</a> 防火牆</h2>\n<table>\n<thead>\n<tr>\n<th>指令範例</th>\n<th>說明</th>\n<th>特別說明</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>--permanent 為永久生效</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>firewall-cmd --add-service=[protocol] [--permanent]</td>\n<td>指定防火牆允許服務</td>\n<td></td>\n<td>firewall-cmd --add-service=http --permanent</td>\n</tr>\n<tr>\n<td>firewall-cmd --remove-service=[protocol] [--permanent]</td>\n<td>指定防火牆不允許服務</td>\n<td></td>\n<td>firewall-cmd --remove-service=http --permanent</td>\n</tr>\n<tr>\n<td>firewall-cmd --add-port=[port]/tcp [--permanent]</td>\n<td>指定防火牆允許 port</td>\n<td></td>\n<td>firewall-cmd --add-port=80/tcp --permanent</td>\n</tr>\n<tr>\n<td>firewall-cmd --remove-port=[port]/tcp [--permanent]</td>\n<td>指定防火牆不允許 port</td>\n<td></td>\n<td>firewall-cmd --remove-port=80/tcp --permanent</td>\n</tr>\n<tr>\n<td>firewall-cmd --reload</td>\n<td>重新讀取設定檔</td>\n<td></td>\n<td>firewall-cmd --reload</td>\n</tr>\n</tbody>\n</table>\n",
            "tags": [
                "linux"
            ]
        }
    ]
}